{% extends "account/base.html" %}
{% load i18n %}
{% block head_title %}{% trans "Change Password" %}{% endblock %}
{% block content %}
<div class="row justify-content-center">
  <div class="col-md-7 col-lg-6">
    <div class="card"><div class="card-body">
      <h1 class="h4 mb-3">{% trans "Choose a new password" %}</h1>
      {% if token_fail %}
        <div class="alert alert-danger mb-3">
          {% trans "The password reset link was invalid, possibly because it has already been used." %}
        </div>
        <a class="btn btn-outline-primary" href="{% url 'account_reset_password' %}">
          {% trans "Request a new password reset" %}
        </a>
      {% else %}
        <form method="post" class="vstack gap-3">
          {% csrf_token %}
          {{ form.non_field_errors }}
          <label class="form-label" for="id_password1">{% trans "New password" %}</label>
          {{ form.password1 }}
          {{ form.password1.errors }}
          <label class="form-label" for="id_password2">{% trans "Confirm new password" %}</label>
          {{ form.password2 }}
          {{ form.password2.errors }}
          <button class="btn btn-primary mt-2" type="submit">{% trans "Change password" %}</button>
        </form>
      {% endif %}
    </div></div>
  </div>
</div>
{% endblock %}
