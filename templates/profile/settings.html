{% extends "base.html" %}
{% block content %}
<div class="container mt-4">
  <h2 class="mb-4">ตั้งค่าโปรไฟล์</h2>
  
  <form method="post" enctype="multipart/form-data" class="card p-4 shadow-sm">
    {% csrf_token %}
    
    <!-- รูปโปรไฟล์ -->
    <div class="mb-3 text-center">
      {% if user.profile.avatar %}
        <img src="{{ user.profile.avatar.url }}" alt="Avatar" class="rounded-circle mb-3" width="120" height="120">
      {% else %}
        <img src="https://via.placeholder.com/120" alt="Avatar" class="rounded-circle mb-3">
      {% endif %}
      <input type="file" name="avatar" class="form-control">
    </div>

    <!-- ชื่อเล่น -->
    <div class="mb-3">
      <label for="display_name" class="form-label">ชื่อที่แสดง</label>
      <input type="text" class="form-control" id="display_name" name="display_name"
             value="{{ user.profile.display_name }}">
    </div>

    <!-- อีเมล -->
    <div class="mb-3">
      <label for="email" class="form-label">อีเมล</label>
      <input type="email" class="form-control" id="email" name="email"
             value="{{ user.email }}">
    </div>

    <!-- Bio -->
    <div class="mb-3">
      <label for="bio" class="form-label">แนะนำตัว</label>
      <textarea class="form-control" id="bio" name="bio" rows="3">{{ user.profile.bio }}</textarea>
    </div>

    <!-- ปุ่ม -->
    <div class="d-flex justify-content-between">
      <a href="{% url 'dashboard' %}" class="btn btn-secondary">ยกเลิก</a>
      <button type="submit" class="btn btn-primary">บันทึกการเปลี่ยนแปลง</button>
    </div>
  </form>
</div>
{% endblock %}
